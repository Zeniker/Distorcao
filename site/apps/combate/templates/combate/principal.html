{% extends "base.html" %}

{% block body %}
<div class="cabecalho">
    <h1>Simulador de Combate 2.0</h1>
</div>
<div class="container" ng-controller="CombateController as vm">
    {% verbatim %}
    <div class="row linha-botoes">
        <div class="form-inline novo-combatente-form">
            <label for="nome_novo_combatente">
                Nome:
            </label>
            <input type="text" id="nome_novo_combatente" class="form-control" ng-model="vm.nome_novo_combatente">
        </div>
        <button class="btn btn-novo margin-right-5px" ng-click="vm.adicionaCombatente()">
            Incluir
        </button>
        <div class="float-right">
            <button class="btn btn-sucesso" ng-click="vm.avancarCombate()">
                Avançar
            </button>
            <button class="btn btn-cancelar" ng-click="vm.reiniciarTurno()">
                Reiniciar
            </button>
        </div>

    </div>

    <div class="barra-progresso">
        <div class="progress">
            <div class="progress-bar progress-bar-striped" role="progressbar" style="width:{{vm.posicaoTurnoPercentual}}%"
                aria-valuenow="{{vm.posicaoTurnoPercentual}}" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        <div class="status-progresso">
            {{ vm.posicaoTurno }} / {{ vm.maxPosicaoTurno }}
        </div>
    </div>

    <div class="card-deck">
        <div class="card combate-card bg-{{ item.classe }}" ng-repeat="item in vm.combatentes">
            <div class="card-header">
                <div class="card-title-distorcao">
                    <span ng-bind="item.nome"></span>
                    <button class="badge badge-pill badge-cancelar" ng-click="vm.removerCombatente($index)">-</button>
                </div>
            </div>
            <div class="card-body">
                <div class="form-group">
                    <label for="ini_atual">Inicialização atual:</label>
                    <input type="text" id="ini_atual" class="form-control" ng-model="item.ini_atual" disabled>
                </div>
                <div class="form-group">
                    <label for="ini_futuro">Inicialização futura:</label>
                    <input type="text" id="ini_futuro" class="form-control" ng-model="item.ini_futura"
                           ng-disabled="item.classe === 'inativo'" number-input="2">
                </div>
            </div>
        </div>
    </div>
    {% endverbatim %}
</div>
{% endblock %}