<!DOCTYPE html>
<html ng-app="distorcao">
	<head>
		<meta charset="UTF-8">
		<title>Distorção - Calculador de ficha</title>

		<!-- CSS -->
		<link rel="stylesheet" href="lib/bootstrap/css/bootstrap.min.css">
		<link rel="stylesheet" href="css/style.css">
		
		<!-- Scripts -->
		<script src="lib/angular/angular.min.js"></script>
		<script src="lib/jquery/jquery-3.2.1.min.js"></script>
		<script src="lib/popper/popper.min.js"></script>
		<script src="lib/bootstrap/js/bootstrap.min.js"></script>
		<script src="js/distorcao.js"></script>		
		<script src="js/controllers/contrFicha.js"></script>		
		<script src="js/directives.js"></script>
	</head>
	<body>
		<div ng-controller="contrFicha" ng-init="attNivel=0;attVigor=0;attDeterminacao=0;attForca=0;attDestreza=0;attMental=0;atualizaValores()">
			<div class="cabecalho-ficha">
				<h1>Ficha Distorção</h1>
				<div class="input-configuracao">
					<label for="configuracao-ficha">Configuração</label>
					<input type="file" class="form-control" id="configuracao-ficha" accept=".json" ng-json-select="carregaJson(contents)">				
				</div>				
			</div>
			<div class="secao-erro" ng-show="msgErro != null">
				<div class="alert alert-danger">
					{{msgErro}}
				</div>
			</div>
			<div class="secao-ficha">
				<h5>Atributos</h5>
				<div class="inputs-ficha">
					<div class="input-group">
						<span class="input-group-addon">Nível</span>
						<input type="number" class="form-control" ng-model="attNivel" min="0" ng-change="calcVida()">
					</div>
					<div class="input-group">
						<span class="input-group-addon">Vigor</span>
						<input type="number" class="form-control" ng-model="attVigor" min="0" ng-change="calcVida()">
					</div>
					<div class="input-group">
						<span class="input-group-addon">Determinação</span>
						<input type="number" class="form-control" ng-model="attDeterminacao" min="0" ng-change="calcVida(); calcPeso()">
					</div>
					<div class="input-group">
						<span class="input-group-addon">Força</span>
						<input type="number" class="form-control" ng-model="attForca" min="0" ng-change="calcBonusForca(); calcPeso(); calcMovimentacao()">
					</div>
					<div class="input-group">
						<span class="input-group-addon">Destreza</span>
						<input type="number" class="form-control" ng-model="attDestreza" min="0" ng-change="calcBonusDestreza(); calcMovimentacao()">
					</div>
					<div class="input-group">
						<span class="input-group-addon">Mental</span>
						<input type="number" class="form-control" ng-model="attMental" min="0" ng-change="calcBonusMental()">
					</div>
				</div>
			</div>
			<div class="secao-ficha">
				<h5>Resultados</h5>
				<table class="table table-striped">
					<tr class="row">
						<td class="col-xs-4">Vida total:</td>
						<td class="col-xs-8	">{{resultadoVida}} HP</td>
					</tr>
					<tr class="row">
						<td class="col-xs-4">Peso:</td>
						<td class="col-xs-8">{{resultadoPeso}}</td>
					</tr>
					<tr class="row">
						<td class="col-xs-4">Bonus força:</td>
						<td class="col-xs-8">{{resultadoBonusForca}}%</td>
					</tr>
					<tr class="row">
						<td class="col-xs-4">Bonus destreza:</td>
						<td class="col-xs-8">{{resultadoBonusDestreza}}%</td>
					</tr>
					<tr class="row">
						<td class="col-xs-4">Bonus mental:</td>
						<td class="col-xs-8">{{resultadoBonusMental}}%</td>
					</tr>
					<tr class="row">
						<td class="col-xs-4">Movimentação:</td>
						<td class="col-xs-8">{{resultadoMovimentacao}}</td>
					</tr>
				</table>
			</div>
			<div class="secao-ficha">
				<button type="button" class="btn btn-info btn-sm" data-toggle="modal" data-target="#modalConfiguracao">
					Configurações
				</button>
				<div id="modalConfiguracao" class="modal fade" role="dialog">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<h4 class="modal-title">Configurações</h4>
								<button type="button" class="close" data-toggle="modal" data-dismiss="modal">&times;</button>
							</div>
							<div class="modal-body">
								<div class="input-group">
									<span class="input-group-addon">Vida base</span>
									<input type="text" class="form-control" ng-model="configuracao.vidaBase" min="0" ng-change="">
								</div>
								<div class="input-group">
									<span class="input-group-addon">Vida por nível</span>
									<input type="text" class="form-control" ng-model="configVidaNivel" min="0" ng-change="">
								</div>
								<div class="input-group">
									<span class="input-group-addon">Vida por determinação</span>
									<input type="text" class="form-control" ng-model="configVidaDeterminacao" min="0" ng-change="">
								</div>
								<div class="input-group">
									<span class="input-group-addon">Intervalos de vigor</span>
									<input type="text" class="form-control" ng-model="configIntervaloVigor" min="0" ng-change="">
								</div>
								<div class="input-group">
									<span class="input-group-addon">Multiplicadores de vigor</span>
									<input type="text" class="form-control" ng-model="configMultiplicadorVigor" min="0" ng-change="">
								</div>
								<div class="input-group">
									<span class="input-group-addon">Intervalos de peso determinação</span>
									<input type="text" class="form-control" ng-model="configIntervaloPesoDeterminacao" min="0" ng-change="">
								</div>
								<div class="input-group">
									<span class="input-group-addon">Multiplicadores de peso determinação</span>
									<input type="text" class="form-control" ng-model="configMultiplicadorPesoDeterminacao" min="0" ng-change="">
								</div>
								<div class="input-group">
									<span class="input-group-addon">Intervalos de peso força</span>
									<input type="text" class="form-control" ng-model="configIntervaloPesoForca" min="0" ng-change="">
								</div>
								<div class="input-group">
									<span class="input-group-addon">Multiplicadores de peso força</span>
									<input type="text" class="form-control" ng-model="configMultiplicadorPesoForca" min="0" ng-change="">
								</div>
								<div class="input-group">
									<span class="input-group-addon">Intervalos de bonus força</span>
									<input type="text" class="form-control" ng-model="configIntervaloForca" min="0" ng-change="">
								</div>
								<div class="input-group">
									<span class="input-group-addon">Multiplicadores de bonus força</span>
									<input type="text" class="form-control" ng-model="configMultiplicadorForca" min="0" ng-change="">
								</div>
								<div class="input-group">
									<span class="input-group-addon">Intervalos de bonus destreza</span>
									<input type="text" class="form-control" ng-model="configIntervaloDestreza" min="0" ng-change="">
								</div>
								<div class="input-group">
									<span class="input-group-addon">Multiplicadores de bonus destreza</span>
									<input type="text" class="form-control" ng-model="configMultiplicadorDestreza" min="0" ng-change="">
								</div>
								<div class="input-group">
									<span class="input-group-addon">Intervalos de bonus mental</span>
									<input type="text" class="form-control" ng-model="configIntervaloMental" min="0" ng-change="">
								</div>
								<div class="input-group">
									<span class="input-group-addon">Multiplicadores de bonus mental</span>
									<input type="text" class="form-control" ng-model="configMultiplicadorMental" min="0" ng-change="">
								</div>
								<div class="input-group">
									<span class="input-group-addon">Base de movimentação</span>
									<input type="text" class="form-control" ng-model="configMovimentacaoBase" min="0" ng-change="">
								</div>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-default btn-md" data-dismiss="modal">Salvar</button>
								<button type="button" class="btn btn-default btn-md" data-dismiss="modal">Cancelar</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>
